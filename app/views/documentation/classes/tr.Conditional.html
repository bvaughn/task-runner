<classname name="tr.Conditional" super="tr.Graph" source="https://github.com/bvaughn/task-runner/blob/master/source/tr/conditional.ts"></classname>

<p class="lead">Provides conditional branching logic based on the outcome of future tasks.</p>

<p>
  This task runs a series of blocking tasks (or preconditions) and then chooses an outcome based on their result.
  Once an outcome is chosen, it is run as well.
  The conditional task completes once the outcome has completed.
  If there are no valid outcomes, this task will error.
</p>

<usage source="app/snippets/documentation/conditional.js"></usage>

<div class="bs-docs-constructor">
  <h4>
    <span class="label label-default">Constructor</span>
    (<em>chooseFirstAvailableOutcome</em>, <em>name</em>)
  </h4>

  <signature params="[
    {name: 'chooseFirstAvailableOutcome', optional: true, type: 'Boolean', description: 'If TRUE, the first available outcome will be chosen and run. All remaining conditions will be interrupted and ignored. This value defaults to FALSE, meaning that all pre-conditions will be allowed to finish before an outcome is chosen.'},
    {name: 'name', optional: true, type: 'String', description: 'Optional task name.'}
  ]"></signature>
</div>

<h3>Instance Methods</h3>

<!-- getChosenOutcome() -->
<h4 class="page-header">
  getChosenOutcome()
</h4>
<p>
  The outcome that was chosen based on the result of the condition tasks.
</p>
<p class="alert alert-warning">
  This method may return <code>undefined</code> if no outcome has been chosen.
</p>
</p>
<signature return="tr.Task"></signature>

<!-- addElse() -->
<h4 class="page-header">
  addElse(outcome)
</h4>
<p>Alias for <code>addOutcome</code> method.</p>

<!-- addIf() -->
<h4 class="page-header">
  addIf(outcome, conditions)
</h4>
<p>Alias for <code>addOutcome</code> method.</p>

<!-- addOutcome() -->
<h4 class="page-header">
  addOutcome(outcome, conditions)
</h4>
<p>
  Adds a conditional outcome to the task.
  The outcome's conditions are in the form of <code>tr.Task</code>s.
  If all of the specified conditions succeed, the outcome will be run.
</p>
<p>
  Like an IF/ELSE block, conditions should be added in the order of highest-to-lowest priority.
  Also like an IF/ELSE block, only one outcome is chosen as a result of this task.
</p>
<p class="alert alert-info">
  Note that priority (order) will be ignored if <code>chooseFirstAvailableOutcome</code> is set to true.
</p>
<signature params="[
  {name: 'outcome', type: 'tr.Task', description: 'Task to be chosen if all of the specified conditions succeed.'},
  {name: 'conditions', type: 'Array<tr.Task>', optional: true, description: 'Tasks that are pre-requisites to complete before the outcome can be chosen. If this value is undefined or empty, the associated outcome will behave as a fallback (an ELSE) if no other outcomes can be chosen.'}
]" return="{type: 'tr.Conditional', description:'A reference to the conditional'}"></signature>
<throws errors="[
  {type: 'Error', description: 'if chooseFirstAvailableOutcome is TRUE and no conditions are specified.'},
  {type: 'Error', description: 'if more than one outcome is added without conditions.'}
]"></throws>
<classname name="tr.Xhr" super="tr.Abstract" source="https://github.com/bvaughn/task-runner/blob/master/source/tr/xhr.js"></classname>

<p class="lead">Creates an XHR request and completes upon successful response from the server.</p>

<p>
  The type of request created depends on whether a data object is provided:
</p>

<ul>
  <li>If a data object is provided it will be converted to a URL-args string and a POST request will be created.
  <li>If a data object is provided a GET request will be created.
</ul>

<usage source="app/snippets/documentation/xhr.js"></usage>

<div class="bs-docs-constructor">
  <h4>
    <span class="label label-default">Constructor</span>
    tr.Xhr(url, <em>data</em>, <em>responseType</em>, <em>name</em>)
  </h4>

  <signature params="[
    {name: 'url', type: 'String', description: 'URL to load.'},
    {name: 'data', optional: true, type: 'Object', description: 'Object containing POST data; if undefined a GET request will be used.'},
    {name: 'responseType', optional: true, type: 'tr.enums.XhrResponseType', description: 'Expected reponse type. If undefined the static value set with tr.Xhr.setDefaultResponseType will be used. If no default response-type is set this value defaults to tr.enums.XhrResponseType.TEXT.'},
    {name: 'name', optional: true, type: 'String', description: 'Optional task name.'}
  ]"></signature>
</div>

<h3>Static Methods</h3>

<!-- promiseToTask() -->
<h4 class="page-header">
  tr.Xhr.setDefaultResponseType(responseType)
</h4>
<p>Set the default response-type for all XHR requests that do not otherwise specify a response-type.</p>
<signature params="[
  {name: 'responseType', type: 'tr.enums.XhrResponseType', description: 'Response type to use.'}
]"></signature>